(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{234:function(e,t,i){"use strict";var s=i(41),n=i(127)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;s(s.P+s.F*(a||!i(65)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:n(this,e,arguments[1])}})},237:function(e,t,i){},290:function(e,t,i){e.exports=i.p+"assets/img/poke_ball.d6cc89a7.gif"},291:function(e,t,i){"use strict";var s=i(237);i.n(s).a},338:function(e,t,i){"use strict";i.r(t);i(234);var s={data:function(){return{timerId:null,msgTimer:null,moveElem:null,dragging:!1,tLeft:0,tTop:0,animaCount:0,doAnimation:null,tiaIndex:0,oldModelNum:0,wifeMsg:["哼！竟然敢屏蔽我","我真的生气了！快点来哄我~~","呜呜~为什么还不肯见我？一定是我哪里做的不够好···","哼哼，其实一个人在这里呆着也挺好的，啦啦啦~","啊~好无聊啊！为什么你还不来找我~","你一定是不爱我了~~再见！"],animationList:["fadeInLeft","lightSpeedIn","zoomIn","swing","heartBeat","wobble"],personModel:"/live2dModels/live2d/model/kesshouban/model.json",basePath:"/live2dModels/live2d/model/",modelPaths:[],tipsList:[{id:1,icon:["fab","github"],tips:"github"},{id:2,icon:["fas","exchange-alt"],tips:"换人"},{id:3,icon:["fas","tshirt"],tips:"换装"},{id:4,icon:["fas","power-off"],tips:"关闭"}]}},created:function(){this.modelPaths=["".concat(this.basePath,"kesshouban/model.json"),"".concat(this.basePath,"tia/model4.json"),"".concat(this.basePath,"pio/0.json"),"".concat(this.basePath,"z16/z16.model.json"),"".concat(this.basePath,"epsilon/Epsilon2.1.model.json"),"".concat(this.basePath,"remu/rem.json")]},mounted:function(){var e=this;this.moveElem=this.$refs.wife,window.addEventListener("load",function(){loadlive2d("live2d",e.personModel=e.modelPaths[e.oldModelNum])})},methods:{clickTool:function(e){var t=this;switch(e){case 1:window.open("https://github.com/buqiyuan");break;case 2:this.switchModel();break;case 3:this.switchClothes();break;case 4:this.$refs.wife.style.display="none",console.log("你。。好狠心！再见~~"),this.$refs.PokeBall.classList.remove("poke-ball-hide","animated","fadeOutUp"),this.$refs.PokeBall.classList.add("poke-ball-show","animated","bounceInDown");var i=0;this.animaCount=0,this.$refs.wifeMsg.classList.add("animated",this.animationList[0]),this.$refs.wifeMsg.innerText=this.wifeMsg[i++],this.doAnimation=function(){t.animaCount>=t.animationList.length&&(t.animaCount=0),t.$refs.wifeMsg.classList.remove(t.animationList[t.animaCount]),t.animaCount++},this.msgTimer=setInterval(function(){if(i>t.wifeMsg.length-1){clearInterval(t.msgTimer);for(var e=t.$refs.liveContainer;e.hasChildNodes();)e.removeChild(e.lastChild);L2Dwidget.init()}else t.$refs.wifeMsg.classList.add(t.animationList[t.animaCount]||"fadeIn"),t.$refs.wifeMsg.innerText=t.wifeMsg[i++]},3e3),this.$refs.wifeMsg.addEventListener("animationend",this.doAnimation)}},setClothesTips:function(e){var t=window.event||arguments.callee.caller.arguments[0];if(3==e)if("mouseleave"==t.type)this.$refs.tipsText[2].innerText="换装";else if("mouseenter"==t.type){if(this.personModel.indexOf("tia")>0)return void(this.$refs.tipsText[2].innerText="换装(共4套)");if(this.personModel.indexOf("pio")>0)return void(this.$refs.tipsText[2].innerText="换装(共50套)");this.$refs.tipsText[2].innerText="换装(无服装)"}},switchClothes:function(){if(this.personModel.indexOf("tia")>0)return this.tiaIndex++,this.tiaIndex>3&&(this.tiaIndex=0),void loadlive2d("live2d","/live2dModels/live2d/model/tia/model"+this.tiaIndex+".json");this.personModel.indexOf("pio")>0?loadlive2d("live2d","/live2dModels/live2d/model/pio/"+Math.floor(50*Math.random())+".json"):console.log("不好意思！该老婆没有衣服可换了，因为鹅没钱给心爱的老婆买衣服了")},switchModel:function(){var e=this.modelPaths.length,t=Math.floor(Math.random()*e);this.oldModelNum==t&&((t=t==e-1?t-1:t+1)>e-1||t<0)&&(t=Math.floor(Math.random()*e)),this.oldModelNum=t,this.personModel=this.modelPaths[t],loadlive2d("live2d",this.modelPaths[t])},callWifeBack:function(){clearInterval(this.msgTimer),this.$refs.wife.style.display="block",console.log("哼！知道错了吧！我又回来了~~"),removeEventListener("animationend",this.doAnimation),this.$refs.wifeMsg.classList.remove(this.animationList[this.animaCount]||"fadeIn"),this.$refs.PokeBall.classList.remove("poke-ball-show","animated","bounceInDown"),this.$refs.PokeBall.classList.add("poke-ball-hide","animated","fadeOutUp")},press:function(e){var t=this,i=(new Date).getTime(),s=this.moveElem.getBoundingClientRect();this.timerId=setInterval(function(){(new Date).getTime()-i>1200&&(clearInterval(t.timerId),t.moveElem.style.cursor="all-scroll")},200),this.dragging=!0,this.tLeft=e.clientX-s.left,this.tTop=e.clientY-s.top},loosen:function(){this.dragging=!1,clearInterval(this.timerId),this.moveElem.style.cursor="grab"},move:function(e){if(this.dragging){var t=e.clientX-this.tLeft,i=e.clientY-this.tTop;this.moveElem.style.left=t+"px",this.moveElem.style.top=i+"px",this.moveElem.style.bottom="unset",this.moveElem.style.right="unset"}}}},n=(i(291),i(12)),o=Object(n.a)(s,function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{ref:"liveContainer"},[s("div",{ref:"PokeBall",staticClass:"poke-ball poke-ball-hide",on:{click:e.callWifeBack}},[s("p",{ref:"wifeMsg",staticClass:"wife-msg"}),e._v(" "),s("img",{attrs:{src:i(290)}})]),e._v(" "),s("div",{ref:"wife",staticClass:"wife",on:{mousedown:e.press,mouseup:e.loosen,mousemove:e.move}},[s("div",{staticClass:"wife-tips",staticStyle:{opacity:"0"}}),e._v(" "),s("canvas",{staticClass:"live2d",attrs:{id:"live2d",width:"280",height:"250"}}),e._v(" "),s("div",{staticClass:"tool-bar"},[s("ul",e._l(e.tipsList,function(t){return s("li",{key:t.id,on:{click:function(i){return e.clickTool(t.id)},mouseenter:function(i){return e.setClothesTips(t.id)},mouseleave:function(i){return e.setClothesTips(t.id)}}},[s("font-awesome-icon",{staticClass:"font-icon",attrs:{icon:t.icon,size:"xs"}}),e._v(" "),s("span",{ref:"tipsText",refInFor:!0,staticClass:"tool-tips"},[e._v(e._s(t.tips))])],1)}),0)])])]),e._v(" "),s("script",{attrs:{type:"text/javascript",charset:"utf-8",async:"",defer:"",src:"/lib/L2Dwidget.min.js"}}),e._v(" "),s("script",{attrs:{type:"text/javascript",charset:"utf-8",async:"",defer:"",src:"/lib/L2Dwidget.0.min.js"}})])},[],!1,null,"073c6dbe",null);t.default=o.exports}}]);